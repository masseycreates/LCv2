var ke=Object.defineProperty;var Ae=(g,s,t)=>s in g?ke(g,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):g[s]=t;var be=(g,s,t)=>Ae(g,typeof s!="symbol"?s+"":s,t);import{r as o,a as Ie,R as we}from"./vendor-nf7bT_Uh.js";import{f as H,a as Te,c as le,l as me,g as ye,b as oe,d as Pe,e as De,s as Ee,L as $e,i as he,A as de,j as Fe,h as je,k as Me,m as Re,n as ge,D as ce,o as Le,p as Oe,P as fe}from"./lottery-Dl5XWKmO.js";import{c as ae}from"./claude-QA-N8Tuv.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();var Se={exports:{}},pe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _e=o,He=Symbol.for("react.element"),ze=Symbol.for("react.fragment"),qe=Object.prototype.hasOwnProperty,Be=_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ge={key:!0,ref:!0,__self:!0,__source:!0};function Ce(g,s,t){var a,r={},n=null,p=null;t!==void 0&&(n=""+t),s.key!==void 0&&(n=""+s.key),s.ref!==void 0&&(p=s.ref);for(a in s)qe.call(s,a)&&!Ge.hasOwnProperty(a)&&(r[a]=s[a]);if(g&&g.defaultProps)for(a in s=g.defaultProps,s)r[a]===void 0&&(r[a]=s[a]);return{$$typeof:He,type:g,key:n,ref:p,props:r,_owner:Be.current}}pe.Fragment=ze;pe.jsx=Ce;pe.jsxs=Ce;Se.exports=pe;var e=Se.exports,xe={},ve=Ie;xe.createRoot=ve.createRoot,xe.hydrateRoot=ve.hydrateRoot;function Ue({liveDataAvailable:g,currentJackpot:s,nextDrawDate:t,isUpdating:a,onRefresh:r,systemPerformance:n}){const[p,m]=o.useState(new Date),[P,F]=o.useState(!1);o.useEffect(()=>{const v=setInterval(()=>{m(new Date)},1e3);return()=>clearInterval(v)},[]);const G=o.useMemo(()=>s?{amount:Te(s.amount),cashValue:H(s.cashValue||s.amount*.6),isLoading:!1,isLive:g&&!s.source}:{amount:"Loading...",cashValue:"Loading...",isLoading:!0},[s,g]),j=o.useMemo(()=>{if(t)return{date:t.date||t,time:t.time||"10:59 PM ET",dayOfWeek:t.dayOfWeek||"Mon/Wed/Sat"};const v=le();return{date:v.date,time:v.time,dayOfWeek:v.dayOfWeek}},[t]),T=o.useMemo(()=>{if(!n)return null;const{uptime:v,memoryUsage:U,errorCount:V}=n;return{uptime:v?`${Math.round(v/1e3/60)}m`:"0m",memory:U?`${U.used}MB`:"N/A",errors:V||0,status:V>5?"warning":"healthy"}},[n]),z=()=>{a||!r||r()},L=()=>{F(!P)},C=()=>e.jsxs("div",{className:"text-center md:text-left",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:"Current Powerball Jackpot"}),e.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 text-sm",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${G.isLive?"bg-green-500/20 text-green-100":"bg-yellow-500/20 text-yellow-100"}`,children:G.isLive?"?? Live Data":"?? Offline"}),e.jsxs("span",{className:"text-white/80",children:["Updated: ",p.toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:`text-4xl md:text-5xl font-black text-white transition-all duration-300 ${G.isLoading?"animate-pulse":""}`,children:G.amount}),e.jsxs("div",{className:"text-lg text-white/90",children:["Cash Value: ",e.jsx("span",{className:"font-semibold",children:G.cashValue})]})]})]}),q=()=>e.jsx("div",{className:"text-center md:text-right",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-white mb-1",children:"Next Drawing"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:j.date}),e.jsx("div",{className:"text-sm text-white/90",children:j.time}),e.jsxs("div",{className:"text-xs text-white/80",children:["Drawings: ",j.dayOfWeek]})]})]}),e.jsx("div",{className:"flex justify-center md:justify-end",children:e.jsxs("button",{onClick:z,disabled:a,className:`btn btn-sm px-3 py-2 bg-white/20 hover:bg-white/30 text-white border border-white/30 transition-all duration-200 ${a?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,"aria-label":a?"Refreshing data...":"Refresh lottery data",children:[e.jsx("span",{className:`text-sm ${a?"animate-spin":""}`,children:"??"}),e.jsx("span",{className:"hidden sm:inline ml-1",children:a?"Updating...":"Refresh"})]})})]})}),E=()=>e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20",children:[e.jsxs("button",{onClick:L,className:"flex items-center justify-between w-full text-left text-white/90 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-sm font-medium",children:"System Status"}),e.jsx("span",{className:`text-xs transition-transform duration-200 ${P?"rotate-180":""}`,children:"?"})]}),P&&T&&e.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-white/70",children:"Uptime"}),e.jsx("div",{className:"text-sm font-semibold text-white",children:T.uptime})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-white/70",children:"Memory"}),e.jsx("div",{className:"text-sm font-semibold text-white",children:T.memory})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-white/70",children:"Errors"}),e.jsx("div",{className:`text-sm font-semibold ${T.errors===0?"text-green-300":"text-yellow-300"}`,children:T.errors})]})]})]});return e.jsxs("header",{className:"mb-8",children:[e.jsx("div",{className:`card overflow-hidden ${g?"gradient-bg":"gradient-bg-unavailable"}`,children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center",children:[C(),q()]}),n&&E(),e.jsx("div",{className:"absolute top-4 right-4 hidden lg:block",children:e.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[e.jsx("div",{className:"hybrid-badge",children:"??? Modular Architecture"}),e.jsx("div",{className:"claude-badge",children:"?? Claude Sonnet 4 Ready"})]})})]})}),e.jsxs("div",{className:"lg:hidden mt-4 flex justify-center space-x-2",children:[e.jsx("div",{className:"hybrid-badge text-xs",children:"??? Modular"}),e.jsx("div",{className:"claude-badge text-xs",children:"?? Sonnet 4"})]})]})}function We({historicalStats:g,currentJackpot:s,historicalDataAvailable:t,isLoadingHistory:a,historicalRecordsLimit:r,onDataLimitChange:n,dataStatus:p,setDataStatus:m,liveDataAvailable:P}){const[F,G]=o.useState(""),[j,T]=o.useState(!1),[z,L]=o.useState(!1),[C,q]=o.useState("disconnected"),[E,v]=o.useState([]),[U,V]=o.useState(!1),[J,O]=o.useState([]),[X,Y]=o.useState(null),[K,te]=o.useState("hybrid"),[W,re]=o.useState(5),[se,k]=o.useState(!1);o.useEffect(()=>{t&&g&&!a&&E.length===0&&x()},[t,g,a]),o.useEffect(()=>{if(!se)return;const d=setInterval(()=>{j?$():f()},5*60*1e3);return()=>clearInterval(d)},[se,j]);const N=o.useMemo(()=>[{value:100,label:"100 drawings (3 months)",recommended:!1},{value:250,label:"250 drawings (8 months)",recommended:!0},{value:500,label:"500 drawings (16 months)",recommended:!1},{value:750,label:"750 drawings (2 years)",recommended:!1},{value:1e3,label:"1000 drawings (3 years)",recommended:!1}],[]),y=o.useMemo(()=>[{value:"hybrid",label:"AI + Algorithms Hybrid",icon:"???",description:"Claude Sonnet 4 enhanced with 6 mathematical algorithms",requiresAI:!0},{value:"ai-only",label:"Claude AI Only",icon:"??",description:"Pure Claude Sonnet 4 analysis and predictions",requiresAI:!0},{value:"algorithms-only",label:"Algorithms Only",icon:"??",description:"6 mathematical algorithms without AI enhancement",requiresAI:!1}],[]),M=o.useCallback(async()=>{const d=F.trim();if(!d){alert("Please enter your Anthropic API key");return}if(!ae.validateApiKey(d)){alert("Please enter a valid Anthropic API key (starts with sk-ant-)");return}try{L(!0),m("?? Testing Claude Sonnet 4 connection..."),q("connecting"),ae.initialize(d);const u=await ae.testConnection();if(u.success)T(!0),q("connected"),m("? Claude Sonnet 4 connected successfully"),await $();else throw new Error(u.error||"Connection test failed")}catch(u){console.error("Claude AI initialization failed:",u),T(!1),q("error"),alert(`Failed to connect to Claude Sonnet 4: ${u.message}`),m("? Claude Sonnet 4 connection failed")}finally{L(!1)}},[F,m]),i=o.useCallback(()=>{T(!1),q("disconnected"),G(""),te("algorithms-only"),m("?? Claude Sonnet 4 disconnected"),f()},[m]),x=o.useCallback(async()=>{try{V(!0),j&&K!=="algorithms-only"?await $():await f()}catch(d){console.error("Failed to generate initial selections:",d),m(`? Selection generation failed: ${d.message}`),R()}finally{V(!1)}},[j,K]),f=o.useCallback(async()=>{try{V(!0),m("?? Generating algorithm-based selections...");const d=Q(g),u=me.generateEnsemblePrediction(d,W),I=h(u);v(I),Y(new Date),m("? Algorithm selections generated")}catch(d){console.error("Algorithm selection generation failed:",d),m(`? Algorithm generation failed: ${d.message}`),R()}finally{V(!1)}},[g,W,m]),$=o.useCallback(async()=>{if(!j||!F){alert("Please enable Claude Sonnet 4 first by entering your API key.");return}try{V(!0),m("??? Generating Claude Sonnet 4 hybrid selections...");const d=Q(g),u=me.generateEnsemblePrediction(d,W),I=await ae.generateHybridSelection({historicalData:w(g),currentJackpot:s,requestedSets:W,strategy:K,localAlgorithmResults:u.slice(0,3)});if(I.success){const _=c(I.data,u);v(_),Y(new Date),m("? Claude Sonnet 4 hybrid selections generated")}else throw new Error(I.error||"Claude AI generation failed")}catch(d){console.error("Claude hybrid selection generation failed:",d),m(`? Claude generation failed: ${d.message}`),await f()}finally{V(!1)}},[j,F,g,s,W,K,m]),R=o.useCallback(()=>{const d=Array.from({length:W},(u,I)=>{const _=ye();return{id:I+1,name:`?? Quick Pick ${I+1}`,description:"Random selection with mathematical constraints",algorithmDetail:"Enhanced random generation",numbers:_.numbers,powerball:_.powerball,strategy:"70% Base Confidence",confidence:70,actualStrategy:"Fallback Random",technicalAnalysis:"Mathematical fallback protocol",claudeGenerated:!1,isHybrid:!1,source:"fallback"}});v(d),Y(new Date)},[W]),Q=d=>!d||!d.drawings?[]:d.drawings.filter(u=>u.numbers&&u.powerball).map(u=>({numbers:[...u.numbers],powerball:u.powerball,date:u.date||new Date().toISOString()})).slice(0,r),h=d=>{const u=["EWMA Frequency Consensus","Neural Network Pattern Recognition","Pair Relationship Analysis","Gap Analysis Optimization","Markov Chain Transition","Sum Range Optimization"];return d.map((I,_)=>{var ne;return{id:_+1,name:`?? ${u[_]||`Algorithm ${_+1}`}`,description:`Mathematical analysis using ${((ne=u[_])==null?void 0:ne.toLowerCase())||"advanced algorithms"}`,algorithmDetail:I.strategy||"Mathematical pattern analysis",numbers:I.numbers,powerball:I.powerball,strategy:`${I.confidence}% Algorithm Confidence`,confidence:I.confidence,actualStrategy:u[_]||I.strategy,technicalAnalysis:I.analysis||"Statistical pattern recognition",claudeGenerated:!1,isHybrid:!1,source:"algorithm"}})},w=d=>{if(!d||!d.drawings)return{drawings:[],totalDrawings:0};const I=d.drawings.slice(0,50).filter(_=>_.numbers&&_.powerball).map(_=>({numbers:_.numbers,powerball:_.powerball,date:_.date||"Unknown"}));return{drawings:I,totalDrawings:d.totalDrawings||I.length,hotNumbers:(d.hotNumbers||[]).slice(0,10),coldNumbers:(d.coldNumbers||[]).slice(0,10)}},c=(d,u)=>{try{const I=d.selections||[],_=[];I.forEach((ee,ue)=>{_.push({id:ue+1,name:`??? ${ee.name||`Claude Hybrid ${ue+1}`}`,description:ee.description||"Claude Sonnet 4 enhanced prediction",algorithmDetail:ee.algorithmDetail||"AI-enhanced mathematical analysis",numbers:ee.numbers,powerball:ee.powerball,strategy:`${ee.confidence}% Claude Confidence`,confidence:ee.confidence,actualStrategy:ee.actualStrategy||"Claude AI Enhanced",technicalAnalysis:ee.technicalAnalysis||d.analysis,claudeGenerated:!0,isHybrid:!0,claudeInsights:ee.insights,source:"claude-hybrid"})});const ne=W-_.length;if(ne>0){const ee=h(u.slice(0,ne));_.push(...ee.map(ue=>({...ue,id:_.length+ue.id})))}return _.slice(0,W)}catch(I){return console.error("Failed to process Claude response:",I),h(u)}},l=o.useCallback(d=>{O(u=>u.includes(d)?u.filter(I=>I!==d):[...u,d])},[]),b=o.useCallback(d=>{const u=oe(d.numbers,d.powerball);navigator.clipboard.writeText(u),m(`?? Copied: ${u}`),setTimeout(()=>m(""),3e3)},[m]),A=o.useCallback(()=>{const d=E.map((u,I)=>`Set ${I+1}: ${oe(u.numbers,u.powerball)}`).join(`
`);navigator.clipboard.writeText(d),m(`?? Copied all ${E.length} selections`),setTimeout(()=>m(""),3e3)},[E,m]),D=()=>e.jsxs("div",{className:"card mb-6",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"?? Claude Sonnet 4 AI Integration"}),e.jsx("p",{className:"card-subtitle",children:"Enable AI-enhanced predictions with Claude Sonnet 4"})]}),j?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-green-500 text-xl",children:"?"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-800",children:"Claude Sonnet 4 Connected"}),e.jsx("p",{className:"text-sm text-green-600",children:"AI-enhanced predictions are active"})]})]}),e.jsx("button",{onClick:i,className:"btn btn-sm btn-outline text-red-600 border-red-300 hover:bg-red-50",children:"Disconnect"})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ai-api-key",className:"block text-sm font-medium text-gray-700 mb-2",children:"Anthropic API Key"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{id:"ai-api-key",type:"password",value:F,onChange:d=>G(d.target.value),placeholder:"sk-ant-...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{onClick:M,disabled:z||!F.trim(),className:"btn btn-claude px-4",children:z?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("span",{children:"Connecting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"??"}),e.jsx("span",{children:"Enable AI"})]})})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-blue-500 text-lg",children:"??"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Get your Anthropic API key:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[e.jsxs("li",{children:["Visit ",e.jsx("a",{href:"https://console.anthropic.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"console.anthropic.com"})]}),e.jsx("li",{children:"Create an account or sign in"}),e.jsx("li",{children:"Navigate to API Keys and create a new key"}),e.jsx("li",{children:"Copy the key and paste it above"})]}),e.jsx("p",{className:"mt-2 text-xs",children:"Your API key is stored locally and never sent to our servers."})]})]})})]})]}),B=()=>{var d;return e.jsxs("div",{className:"card mb-6",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"?? Selection Configuration"}),e.jsx("p",{className:"card-subtitle",children:"Customize your prediction settings"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"?? Historical Data Range"}),e.jsx("select",{value:r,onChange:u=>n(parseInt(u.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:a,children:N.map(u=>e.jsxs("option",{value:u.value,children:[u.label," ",u.recommended?"?":""]},u.value))}),a&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading historical data..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"?? Selection Mode"}),e.jsx("select",{value:K,onChange:u=>te(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:y.map(u=>e.jsxs("option",{value:u.value,disabled:u.requiresAI&&!j,children:[u.icon," ",u.label,u.requiresAI&&!j?" (Requires AI)":""]},u.value))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(d=y.find(u=>u.value===K))==null?void 0:d.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"?? Number of Sets"}),e.jsx("select",{value:W,onChange:u=>re(parseInt(u.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[3,4,5,6,7,8].map(u=>e.jsxs("option",{value:u,children:[u," sets"]},u))}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"checkbox",id:"auto-refresh",checked:se,onChange:u=>k(u.target.checked),className:"mr-2"}),e.jsx("label",{htmlFor:"auto-refresh",className:"text-xs text-gray-600",children:"Auto-refresh every 5 minutes"})]})]})]})]})},S=d=>e.jsxs("div",{className:`card cursor-pointer transition-all duration-200 ${J.includes(d.id)?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-lg"}`,onClick:()=>l(d.id),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:d.name}),d.claudeGenerated&&e.jsx("span",{className:"claude-badge",children:"Claude"}),d.isHybrid&&e.jsx("span",{className:"hybrid-badge",children:"Hybrid"})]}),e.jsxs("div",{className:`confidence-indicator ${Pe(d.confidence)}`,children:[d.confidence,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.numbers.map((u,I)=>e.jsx("div",{className:"number-ball number-ball-main",children:u},I)),e.jsx("div",{className:"mx-2 text-gray-400 font-bold",children:"|"}),e.jsx("div",{className:"number-ball number-ball-powerball",children:d.powerball})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-3 text-center",children:d.description}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:u=>{u.stopPropagation(),b(d)},className:"btn btn-sm btn-outline flex-1",children:"?? Copy"}),d.claudeGenerated&&d.claudeInsights&&e.jsx("button",{onClick:u=>{u.stopPropagation(),alert(d.claudeInsights)},className:"btn btn-sm btn-claude",children:"?? Insights"})]}),e.jsxs("details",{className:"mt-3 text-xs",children:[e.jsx("summary",{className:"cursor-pointer text-gray-500 hover:text-gray-700",children:"Technical Details"}),e.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Strategy:"})," ",d.actualStrategy]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Analysis:"})," ",d.technicalAnalysis]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Source:"})," ",d.source||"algorithm"]})]})]})]},d.id),Z=()=>e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:j?$:f,disabled:U,className:`btn ${j?"btn-claude":"btn-primary"}`,children:U?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("span",{children:"Generating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:j?"???":"??"}),e.jsx("span",{children:"Generate New Sets"})]})}),E.length>0&&e.jsx("button",{onClick:A,className:"btn btn-secondary",children:"?? Copy All"})]}),X&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Last generated: ",X.toLocaleTimeString()]})]});return e.jsxs("div",{className:"space-y-6",children:[D(),B(),Z(),E.length>0?e.jsx("div",{className:"selection-grid",children:E.map(S)}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:j?"???":"??"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:U?"Generating Selections...":"Ready to Generate"}),e.jsx("p",{className:"text-gray-600 mb-6",children:j?'Click "Generate New Sets" to create Claude Sonnet 4 enhanced predictions':'Click "Generate New Sets" to create algorithm-based predictions'}),!U&&e.jsxs("button",{onClick:j?$:f,className:`btn btn-lg ${j?"btn-claude":"btn-primary"}`,children:[e.jsx("span",{children:j?"???":"??"}),e.jsx("span",{children:"Generate Selections"})]})]}),J.length>0&&e.jsxs("div",{className:"card bg-blue-50 border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-800 mb-2",children:["?? Selected Sets (",J.length,")"]}),e.jsx("div",{className:"space-y-1 text-sm",children:J.map(d=>{const u=E.find(I=>I.id===d);return u?e.jsxs("p",{className:"text-blue-700",children:[u.name,": ",oe(u.numbers,u.powerball)]},d):null})})]})]})}function Ye({historicalStats:g,dataStatus:s,setDataStatus:t}){const[a,r]=o.useState([]),[n,p]=o.useState(""),[m,P]=o.useState([]),[F,G]=o.useState("manual"),[j,T]=o.useState(!1),[z,L]=o.useState("all");o.useEffect(()=>{const i=De("lcv2_saved_selections",[]);P(i)},[]),o.useEffect(()=>{Ee("lcv2_saved_selections",m)},[m]);const C=o.useMemo(()=>{if(!g||!g.drawings)return{};const i={},x={},f=g.drawings;for(let w=1;w<=69;w++)i[w]=0,x[w]=f.length;f.forEach((w,c)=>{w.numbers&&w.numbers.forEach(l=>{l>=1&&l<=69&&(i[l]++,x[l]=Math.min(x[l],c))})});const $=Object.entries(i).sort(([,w],[,c])=>c-w).map(([w,c])=>({number:parseInt(w),frequency:c})),R=$.slice(0,15),Q=$.slice(-15),h=Object.entries(x).sort(([,w],[,c])=>c-w).slice(0,15).map(([w,c])=>({number:parseInt(w),gap:c}));return{frequency:i,lastDrawn:x,hot:R,cold:Q,overdue:h,total:f.length}},[g]),q=o.useMemo(()=>{const i=Array.from({length:69},(x,f)=>f+1);if(z==="all"||!C.hot)return i;switch(z){case"hot":return C.hot.map(x=>x.number);case"cold":return C.cold.map(x=>x.number);case"overdue":return C.overdue.map(x=>x.number);default:return i}},[z,C]),E=a.length===5&&n,v=o.useMemo(()=>{if(a.length===0)return null;const i=a.reduce((R,Q)=>R+Q,0),x=a.filter(R=>R%2===0).length,f=a.filter(R=>R<=35).length,$=a.filter(R=>R>35).length;return{sum:i,evenCount:x,oddCount:a.length-x,lowCount:f,highCount:$,range:a.length>0?Math.max(...a)-Math.min(...a):0}},[a]),U=o.useCallback(i=>{a.includes(i)?r(x=>x.filter(f=>f!==i)):a.length<$e.mainNumbers.count?r(x=>[...x,i].sort((f,$)=>f-$)):(t("?? You can only select 5 main numbers"),setTimeout(()=>t(""),3e3))},[a,t]),V=o.useCallback(i=>{p(i)},[]),J=o.useCallback(()=>{r([]),p(""),t("??? Selection cleared"),setTimeout(()=>t(""),2e3)},[t]),O=o.useCallback(()=>{const i=ye();r(i.numbers),p(i.powerball),t("?? Quick pick generated"),setTimeout(()=>t(""),2e3)},[t]),X=o.useCallback(()=>{if(!E){alert("Please select 5 numbers and a Powerball number first.");return}const i={id:Date.now(),numbers:[...a],powerball:n,timestamp:new Date().toLocaleString(),formatted:oe(a,n),name:`Selection ${m.length+1}`};P(x=>[i,...x.slice(0,19)]),t("?? Selection saved successfully"),setTimeout(()=>t(""),3e3)},[E,a,n,m.length,t]),Y=o.useCallback(i=>{r(i.numbers),p(i.powerball),t(`?? Loaded: ${i.name}`),setTimeout(()=>t(""),3e3)},[t]),K=o.useCallback(i=>{P(x=>x.filter(f=>f.id!==i)),t("??? Selection deleted"),setTimeout(()=>t(""),2e3)},[t]),te=o.useCallback((i=a,x=n)=>{if(i.length===5&&x){const f=oe(i,x);navigator.clipboard.writeText(f),t(`?? Copied: ${f}`),setTimeout(()=>t(""),3e3)}else alert("Please complete your selection first.")},[a,n,t]),W=o.useCallback(i=>{let x=[];switch(i){case"diagonal":x=[7,14,28,42,56];break;case"corners":x=[1,69,35,36,37];break;case"cross":x=[35,21,49,28,42];break;case"lucky":x=[7,11,21,33,47];break;default:x=ye().numbers}r(x),p(Math.floor(Math.random()*26)+1),t(`?? ${i} pattern applied`),setTimeout(()=>t(""),3e3)},[t]),re=()=>e.jsxs("div",{className:"card mb-6",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"?? Your Current Selection"}),e.jsxs("p",{className:"card-subtitle",children:["Select ",5-a.length," more numbers and ",n?"0":"1"," Powerball"]})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx("div",{className:"flex gap-2",children:Array.from({length:5},(i,x)=>e.jsx("div",{className:`number-ball ${a[x]?"number-ball-selected":"border-2 border-dashed border-gray-300 bg-gray-50 text-gray-400"}`,children:a[x]||"?"},x))}),e.jsx("div",{className:"text-2xl text-gray-400 font-bold",children:"|"}),e.jsx("div",{className:`number-ball ${n?"number-ball-powerball":"border-2 border-dashed border-red-300 bg-red-50 text-red-400"}`,children:n||"?"})]}),E&&e.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["? Selection Complete: ",oe(a,n)]})]}),v&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"?? Selection Analysis"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Sum:"}),e.jsx("span",{className:"ml-1 font-medium",children:v.sum})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Even/Odd:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[v.evenCount,"/",v.oddCount]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Low/High:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[v.lowCount,"/",v.highCount]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Range:"}),e.jsx("span",{className:"ml-1 font-medium",children:v.range})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:O,className:"btn btn-primary",children:"?? Quick Pick"}),e.jsx("button",{onClick:J,className:"btn btn-secondary",disabled:a.length===0&&!n,children:"??? Clear"}),e.jsx("button",{onClick:X,className:"btn btn-success",disabled:!E,children:"?? Save"}),e.jsx("button",{onClick:()=>te(),className:"btn btn-outline",disabled:!E,children:"?? Copy"})]})]}),se=()=>e.jsxs("div",{className:"card mb-6",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"?? Selection Tools"}),e.jsx("p",{className:"card-subtitle",children:"Choose how you want to select your numbers"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"?? Number Filter"}),e.jsxs("select",{value:z,onChange:i=>L(i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Numbers"}),e.jsx("option",{value:"hot",children:"Hot Numbers (Most Frequent)"}),e.jsx("option",{value:"cold",children:"Cold Numbers (Least Frequent)"}),e.jsx("option",{value:"overdue",children:"Overdue Numbers"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"?? Quick Patterns"}),e.jsxs("select",{onChange:i=>i.target.value&&W(i.target.value),value:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Pattern..."}),e.jsx("option",{value:"diagonal",children:"Diagonal Pattern"}),e.jsx("option",{value:"corners",children:"Corner Numbers"}),e.jsx("option",{value:"cross",children:"Cross Pattern"}),e.jsx("option",{value:"lucky",children:"Lucky Numbers"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"?? Statistics"}),e.jsx("button",{onClick:()=>T(!j),className:`w-full btn ${j?"btn-primary":"btn-outline"}`,children:j?"Hide Stats":"Show Stats"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"? Bulk Actions"}),e.jsx("button",{onClick:()=>{for(let i=0;i<5;i++)setTimeout(()=>O(),i*100)},className:"w-full btn btn-secondary",children:"Generate 5 Sets"})]})]})]}),k=()=>e.jsxs("div",{className:"card mb-6",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:["?? Main Numbers (1-69)",z!=="all"&&e.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["- Showing ",z," numbers"]})]}),e.jsxs("p",{className:"card-subtitle",children:["Select 5 numbers � ",a.length,"/5 selected"]})]}),e.jsx("div",{className:"number-grid number-grid-main",children:Array.from({length:69},(i,x)=>x+1).map(i=>{const x=a.includes(i),f=a.length>=5&&!x,$=!q.includes(i),R=C.frequency&&C.frequency[i];return e.jsxs("button",{onClick:()=>!f&&!$&&U(i),disabled:f||$,className:`number-ball relative ${x?"number-ball-selected":f||$?"number-ball-disabled":"number-ball-main"}`,title:R?`Frequency: ${R} (${(R/C.total*100).toFixed(1)}%)`:`Number ${i}`,children:[i,j&&R&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:Math.round(R/C.total*100)})]},i)})})]}),N=()=>e.jsxs("div",{className:"card mb-6",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"? Powerball (1-26)"}),e.jsxs("p",{className:"card-subtitle",children:["Select 1 Powerball number ",n&&`� Selected: ${n}`]})]}),e.jsx("div",{className:"number-grid number-grid-powerball",children:Array.from({length:26},(i,x)=>x+1).map(i=>e.jsx("button",{onClick:()=>V(i),className:`number-ball ${n===i?"number-ball-powerball border-red-500 ring-2 ring-red-200":"border-2 border-red-300 text-red-700 hover:bg-red-50"}`,children:i},i))})]}),y=()=>e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:["?? Saved Selections (",m.length,"/20)"]}),e.jsx("p",{className:"card-subtitle",children:"Your saved number combinations"})]}),m.length>0?e.jsx("div",{className:"space-y-3",children:m.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm text-gray-900 mb-1",children:i.name}),e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:i.formatted}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Saved: ",i.timestamp]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Y(i),className:"btn btn-sm btn-primary",title:"Load this selection",children:"?? Load"}),e.jsx("button",{onClick:()=>te(i.numbers,i.powerball),className:"btn btn-sm btn-outline",title:"Copy to clipboard",children:"??"}),e.jsx("button",{onClick:()=>K(i.id),className:"btn btn-sm btn-secondary text-red-600",title:"Delete this selection",children:"???"})]})]},i.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-2",children:"??"}),e.jsx("p",{children:"No saved selections yet"}),e.jsx("p",{className:"text-sm",children:'Complete a selection and click "Save" to store it here'})]})]}),M=()=>!j||!C.hot?null:e.jsxs("div",{className:"card mb-6",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"?? Number Statistics"}),e.jsxs("p",{className:"card-subtitle",children:["Based on ",C.total," historical drawings"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"?? Hot Numbers"}),e.jsx("div",{className:"space-y-1",children:C.hot.slice(0,10).map(i=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:i.number}),e.jsxs("span",{className:"text-gray-500",children:[i.frequency,"x"]})]},i.number))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"?? Cold Numbers"}),e.jsx("div",{className:"space-y-1",children:C.cold.slice(0,10).map(i=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:i.number}),e.jsxs("span",{className:"text-gray-500",children:[i.frequency,"x"]})]},i.number))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"? Overdue Numbers"}),e.jsx("div",{className:"space-y-1",children:C.overdue.slice(0,10).map(i=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:i.number}),e.jsxs("span",{className:"text-gray-500",children:[i.gap," draws ago"]})]},i.number))})]})]})]});return e.jsxs("div",{className:"space-y-6",children:[re(),se(),M(),k(),N(),y()]})}function Ve({currentJackpot:g,dataStatus:s,setDataStatus:t}){const[a,r]=o.useState(""),[n,p]=o.useState("lump_sum"),[m,P]=o.useState("no_state_tax"),[F,G]=o.useState("single"),[j,T]=o.useState(""),[z,L]=o.useState(null),[C,q]=o.useState(!1),[E,v]=o.useState(!1),[U,V]=o.useState(!0);o.useEffect(()=>{g&&g.amount&&!a&&r(g.amount.toString())},[g,a]);const J=o.useMemo(()=>({single:[{min:0,max:11e3,rate:.1},{min:11e3,max:44725,rate:.12},{min:44725,max:95375,rate:.22},{min:95375,max:182050,rate:.24},{min:182050,max:231250,rate:.32},{min:231250,max:578125,rate:.35},{min:578125,max:1/0,rate:.37}],married:[{min:0,max:22e3,rate:.1},{min:22e3,max:89450,rate:.12},{min:89450,max:190750,rate:.22},{min:190750,max:364200,rate:.24},{min:364200,max:462500,rate:.32},{min:462500,max:693750,rate:.35},{min:693750,max:1/0,rate:.37}]}),[]),O=o.useMemo(()=>({no_state_tax:{name:"No State Tax",rate:0,note:"AL, AK, FL, NV, NH, SD, TN, TX, WA, WY"},california:{name:"California",rate:.133,note:"Highest state tax rate"},new_york:{name:"New York",rate:.1082,note:"Plus local taxes may apply"},illinois:{name:"Illinois",rate:.0495,note:"Flat rate"},pennsylvania:{name:"Pennsylvania",rate:.0307,note:"Flat rate"},michigan:{name:"Michigan",rate:.0425,note:"Flat rate"},ohio:{name:"Ohio",rate:.0399,note:"Variable rate"},georgia:{name:"Georgia",rate:.0575,note:"Top rate"},north_carolina:{name:"North Carolina",rate:.0499,note:"Flat rate"},arizona:{name:"Arizona",rate:.045,note:"Top rate"},colorado:{name:"Colorado",rate:.0455,note:"Flat rate"},connecticut:{name:"Connecticut",rate:.0699,note:"Top rate"},massachusetts:{name:"Massachusetts",rate:.05,note:"Flat rate"},new_jersey:{name:"New Jersey",rate:.1075,note:"Top rate"},maryland:{name:"Maryland",rate:.0575,note:"Plus local taxes"}}),[]),X=o.useCallback((k,N)=>{const y=J[N]||J.single;let M=0,i=k;const x=[];for(const f of y){const $=Math.min(i,f.max-f.min);if($>0){const R=$*f.rate;if(M+=R,x.push({range:`${H(f.min)} - ${f.max===1/0?"8":H(f.max)}`,rate:he(f.rate*100),taxableAmount:H($),tax:H(R)}),i-=$,i<=0)break}}return{totalTax:M,breakdown:x}},[J]),Y=o.useCallback((k,N,y,M,i=0)=>{const x=parseFloat(i)||0,f=k+x,$=k*.24,R=X(f,M),Q=R.totalTax,h=O[y]||O.no_state_tax,w=k*h.rate,c=Q+w,l=k-c,b=Math.max(0,Q-$);return{grossWinnings:k,federalWithholding:$,federalTaxOwed:Q,federalTaxBreakdown:R.breakdown,stateTax:w,stateInfo:h,totalTaxes:c,netWinnings:l,additionalFederalOwed:b,effectiveTaxRate:c/k*100,payoutType:N,filingStatus:M}},[X,O]),K=o.useCallback(async()=>{const k=parseFloat(a);if(!k||k<1e6){alert("Please enter a valid jackpot amount (minimum $1,000,000)");return}q(!0),t("?? Calculating tax breakdown...");try{await new Promise(y=>setTimeout(y,500));let N;if(E){const y=k*.6,M=k/30,i=Y(y,"lump_sum",m,F,j),x=Y(M,"annuity",m,F,j);N={type:"comparison",data:{advertised:k,lumpSum:i,annuity:{...x,totalGross:k,totalNet:x.netWinnings*30,totalTaxes:x.totalTaxes*30}}}}else{const y=n==="lump_sum"?k*.6:k/30,M=Y(y,n,m,F,j);N={type:"single",data:{advertised:k,calculation:M}}}L(N),t("? Tax calculation completed")}catch(N){console.error("Tax calculation failed:",N),t("? Calculation failed")}finally{q(!1),setTimeout(()=>t(""),3e3)}},[a,n,m,F,j,E,Y,t]),te=()=>{var k;return e.jsxs("div",{className:"card mb-6",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"?? Tax Calculator Settings"}),e.jsx("p",{className:"card-subtitle",children:"Configure your lottery winning scenario"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"?? Jackpot Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",value:a,onChange:N=>r(N.target.value),placeholder:"100000000",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1000000",step:"1000000"})]}),g&&e.jsxs("button",{onClick:()=>r(g.amount.toString()),className:"mt-1 text-xs text-blue-600 hover:text-blue-800",children:["Use current jackpot: ",H(g.amount)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"?? Payout Type"}),e.jsxs("select",{value:n,onChange:N=>p(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:E,children:[e.jsx("option",{value:"lump_sum",children:"Lump Sum (Cash Option)"}),e.jsx("option",{value:"annuity",children:"Annuity (30 Payments)"})]}),E&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comparison mode calculates both options"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"?? Filing Status"}),e.jsxs("select",{value:F,onChange:N=>G(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"single",children:"Single"}),e.jsx("option",{value:"married",children:"Married Filing Jointly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"??? State"}),e.jsx("select",{value:m,onChange:N=>P(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:Object.entries(O).map(([N,y])=>e.jsxs("option",{value:N,children:[y.name," (",he(y.rate*100),")"]},N))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(k=O[m])==null?void 0:k.note})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"?? Additional Annual Income"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",value:j,onChange:N=>T(N.target.value),placeholder:"75000",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"1000"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your other income (affects tax brackets)"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:N=>v(N.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Compare lump sum vs annuity"})]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:U,onChange:N=>V(N.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show detailed breakdown"})]})})]})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("button",{onClick:K,disabled:C||!a,className:"btn btn-lg btn-primary",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("span",{children:"Calculating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"??"}),e.jsx("span",{children:"Calculate Taxes"})]})})})]})},W=k=>{const{advertised:N,calculation:y}=k;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"tax-summary-grid",children:[e.jsxs("div",{className:"tax-summary-item",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"?? Gross Winnings"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:H(y.grossWinnings)}),e.jsx("div",{className:"text-sm text-gray-600",children:y.payoutType==="lump_sum"?"Cash option":"Annual payment"})]}),e.jsxs("div",{className:"tax-summary-item negative",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"??? Total Taxes"}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:H(y.totalTaxes)}),e.jsxs("div",{className:"text-sm text-gray-600",children:[he(y.effectiveTaxRate)," effective rate"]})]}),e.jsxs("div",{className:"tax-summary-item positive",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"?? Net Winnings"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:H(y.netWinnings)}),e.jsx("div",{className:"text-sm text-gray-600",children:"After all taxes"})]})]}),U&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"?? Tax Breakdown"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"tax-breakdown-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Tax Type"}),e.jsx("th",{children:"Rate"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Notes"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Federal Withholding"}),e.jsx("td",{children:"24.00%"}),e.jsx("td",{children:H(y.federalWithholding)}),e.jsx("td",{children:"Automatic withholding"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Federal Tax Owed"}),e.jsx("td",{children:"Variable"}),e.jsx("td",{children:H(y.federalTaxOwed)}),e.jsx("td",{children:"Based on tax brackets"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"State Tax"}),e.jsx("td",{children:he(y.stateInfo.rate*100)}),e.jsx("td",{children:H(y.stateTax)}),e.jsx("td",{children:y.stateInfo.name})]}),e.jsxs("tr",{className:"font-semibold bg-gray-50",children:[e.jsx("td",{children:"Total Taxes"}),e.jsx("td",{children:he(y.effectiveTaxRate)}),e.jsx("td",{children:H(y.totalTaxes)}),e.jsx("td",{children:"Effective rate"})]})]})]})}),y.additionalFederalOwed>0&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"?? Additional Tax Owed"}),e.jsxs("p",{className:"text-sm text-yellow-700",children:["You'll owe an additional ",e.jsx("strong",{children:H(y.additionalFederalOwed)})," in federal taxes beyond the 24% withholding. Plan to set this aside for tax filing."]})]})]}),U&&y.federalTaxBreakdown&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"??? Federal Tax Brackets Applied"}),e.jsxs("p",{className:"card-subtitle",children:["Your tax calculation by bracket (",y.filingStatus,")"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"tax-breakdown-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Income Range"}),e.jsx("th",{children:"Tax Rate"}),e.jsx("th",{children:"Taxable Amount"}),e.jsx("th",{children:"Tax Owed"})]})}),e.jsx("tbody",{children:y.federalTaxBreakdown.map((M,i)=>e.jsxs("tr",{children:[e.jsx("td",{className:"font-mono text-xs",children:M.range}),e.jsx("td",{children:M.rate}),e.jsx("td",{children:M.taxableAmount}),e.jsx("td",{children:M.tax})]},i))})]})})]})]})},re=k=>{const{advertised:N,lumpSum:y,annuity:M}=k;return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"?? Lump Sum vs Annuity Comparison"}),e.jsxs("p",{className:"card-subtitle",children:["Advertised Jackpot: ",H(N)]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-4 bg-blue-50",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-3 text-center",children:"?? Lump Sum Option"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gross Amount:"}),e.jsx("span",{className:"font-medium",children:H(y.grossWinnings)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Taxes:"}),e.jsx("span",{className:"font-medium text-red-600",children:H(y.totalTaxes)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2 font-semibold",children:[e.jsx("span",{children:"Net Amount:"}),e.jsx("span",{className:"text-green-600",children:H(y.netWinnings)})]}),e.jsx("div",{className:"text-xs text-gray-600 text-center mt-2",children:"Available immediately"})]})]}),e.jsxs("div",{className:"border-2 border-green-200 rounded-lg p-4 bg-green-50",children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-3 text-center",children:"?? Annuity Option"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Annual Payment:"}),e.jsx("span",{className:"font-medium",children:H(M.grossWinnings)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Annual Taxes:"}),e.jsx("span",{className:"font-medium text-red-600",children:H(M.totalTaxes)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2 font-semibold",children:[e.jsx("span",{children:"Annual Net:"}),e.jsx("span",{className:"text-green-600",children:H(M.netWinnings)})]}),e.jsx("div",{className:"text-xs text-gray-600 text-center mt-2",children:"30 annual payments"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"?? Key Insights"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Immediate vs Total:"}),e.jsxs("p",{className:"text-gray-600",children:["Lump sum gives you ",H(y.netWinnings)," now vs",H(M.totalNet)," total over 30 years."]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Investment Opportunity:"}),e.jsx("p",{className:"text-gray-600",children:"If you invest the lump sum at 4% annually, you'd break even with annuity payments."})]})]})]})]})})},se=()=>e.jsx("div",{className:"card bg-yellow-50 border-yellow-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-yellow-500 text-xl",children:"??"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Important Tax Disclaimer"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"� This calculator provides estimates only - actual taxes may vary"}),e.jsx("li",{children:"� Tax laws change frequently and vary by jurisdiction"}),e.jsx("li",{children:"� Additional taxes may apply (local, estate, gift taxes)"}),e.jsx("li",{children:"� Consult a qualified tax professional for personalized advice"}),e.jsx("li",{children:"� Federal withholding is 24% for lottery winnings over $5,000"}),e.jsx("li",{children:"� State tax rates and rules vary significantly"}),e.jsx("li",{children:"� Investment returns can significantly impact the lump sum vs annuity decision"})]})]})]})});return e.jsxs("div",{className:"space-y-6",children:[te(),z?e.jsx("div",{className:"space-y-6",children:z.type==="comparison"?re(z.data):W(z.data)}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"??"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Ready to Calculate"}),e.jsx("p",{className:"text-gray-600 mb-6",children:'Enter your jackpot amount and preferences above, then click "Calculate Taxes" to see your detailed tax breakdown and take-home amount.'}),e.jsx("div",{className:"text-sm text-gray-500",children:'?? Tip: Use "Compare lump sum vs annuity" to see both options side by side'})]}),se()]})}class Je{constructor(){this.cache=new Map,this.retryCount=0,this.maxRetries=de.maxRetries,this.cacheTimeout=de.cacheTimeout,this.dataSources=this.initializeDataSources(),this.fallbackData=this.initializeFallbackData()}initializeDataSources(){return[{id:"ny_lottery",name:"NY Lottery API",baseUrl:"https://data.ny.gov/resource/5xaw-6ayf.json",priority:1,isActive:!0,capabilities:["current","historical"]},{id:"lottery_usa",name:"Lottery USA API",baseUrl:"https://www.lotteryusa.com/powerball",priority:2,isActive:!0,capabilities:["current"]},{id:"powerball_com",name:"Powerball.com Scraper",baseUrl:"https://www.powerball.com/api",priority:3,isActive:!0,capabilities:["current","historical"]}]}initializeFallbackData(){return{jackpot:{amount:1e8,cashValue:6e7,nextDrawing:le(),source:"fallback",lastUpdated:new Date().toISOString()},historicalSample:this.generateSampleHistoricalData()}}generateSampleHistoricalData(){var a,r;const s=[],t=new Date;t.setFullYear(t.getFullYear()-2);for(let n=0;n<500;n++){const p=new Date(t);p.setDate(p.getDate()+n*3.5);const m=[];for(;m.length<5;){const P=Math.floor(Math.random()*69)+1;m.includes(P)||m.push(P)}m.sort((P,F)=>P-F),s.push({date:p.toISOString().split("T")[0],numbers:m,powerball:Math.floor(Math.random()*26)+1,jackpot:5e7+Math.floor(Math.random()*15e7),source:"generated"})}return{drawings:s.reverse(),totalDrawings:s.length,dateRange:{earliest:(a=s[s.length-1])==null?void 0:a.date,latest:(r=s[0])==null?void 0:r.date},hotNumbers:[7,14,21,28,35,42,49,56,63,69],coldNumbers:[1,8,15,22,29,36,43,50,57,64],source:"fallback"}}getCachedData(s){const t=this.cache.get(s);return t?Date.now()-t.timestamp>this.cacheTimeout?(this.cache.delete(s),null):t.data:null}setCachedData(s,t){this.cache.set(s,{data:t,timestamp:Date.now()})}clearCache(){this.cache.clear(),console.log("??? PowerballAPI cache cleared")}async testConnectivity(){const s=performance.now();try{console.log("?? Testing PowerballAPI connectivity...");const t=await Promise.allSettled([this.testDataSource(this.dataSources[0]),this.testDataSource(this.dataSources[1]),this.testDataSource(this.dataSources[2])]),a=t.filter(n=>n.status==="fulfilled"&&n.value.success),r=performance.now()-s;return a.length===0?{success:!1,error:"All data sources failed connectivity test",latency:r,sources:t.map(n=>n.status==="fulfilled"?n.value:{success:!1})}:{success:!0,latency:r,sources:t.map(n=>n.status==="fulfilled"?n.value:{success:!1}),availableSources:a.length}}catch(t){return console.error("? Connectivity test failed:",t),{success:!1,error:t.message,latency:performance.now()-s}}}async testDataSource(s){try{const t=new AbortController,a=setTimeout(()=>t.abort(),5e3),r=await fetch(s.baseUrl,{method:"HEAD",signal:t.signal,headers:{Accept:"application/json","User-Agent":"LCv2-Lottery-System/2.0"}});return clearTimeout(a),{success:r.ok,source:s.name,status:r.status,latency:r.headers.get("response-time")||"unknown"}}catch(t){return{success:!1,source:s.name,error:t.message}}}async fetchCurrentData(){console.log("?? Fetching current Powerball data...");try{const s=this.getCachedData("current_jackpot");if(s)return console.log("?? Using cached jackpot data"),{success:!0,data:s,source:"cache"};for(const a of this.dataSources)if(!(!a.isActive||!a.capabilities.includes("current")))try{const r=await this.fetchFromSource(a,"current");if(r&&Fe(r))return this.setCachedData("current_jackpot",r),console.log(`? Jackpot data from ${a.name}`),{success:!0,data:r,source:a.id}}catch(r){console.warn(`?? ${a.name} failed:`,r.message);continue}return console.log("?? Using fallback jackpot data"),{success:!0,data:{...this.fallbackData.jackpot,nextDrawing:le()},source:"fallback",warning:"Live data unavailable, using fallback values"}}catch(s){return console.error("? Failed to fetch current data:",s),{success:!1,error:je(s),data:this.fallbackData.jackpot}}}async fetchFromSource(s,t){const a=new AbortController,r=setTimeout(()=>a.abort(),1e4);try{let n=s.baseUrl,p;switch(s.id){case"ny_lottery":p=await this.fetchFromNYLottery(n,t,a.signal);break;case"lottery_usa":p=await this.fetchFromLotteryUSA(n,t,a.signal);break;case"powerball_com":p=await this.fetchFromPowerballCom(n,t,a.signal);break;default:throw new Error(`Unknown data source: ${s.id}`)}return clearTimeout(r),p}catch(n){throw clearTimeout(r),n}}async fetchFromNYLottery(s,t,a){var r,n;if(t==="current"){const p=`${s}?$limit=1&$order=draw_date DESC`,m=await fetch(p,{signal:a});if(!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const P=await m.json();if(!P||P.length===0)throw new Error("No current data available");const F=P[0];return{jackpot:{amount:parseInt(((r=F.jackpot)==null?void 0:r.replace(/[^0-9]/g,""))||"100000000"),cashValue:parseInt(((n=F.cash_value)==null?void 0:n.replace(/[^0-9]/g,""))||"60000000"),nextDrawing:le(),lastDrawing:F.draw_date,source:"ny_lottery"}}}return null}async fetchFromLotteryUSA(s,t,a){if(t==="current"){const r=await fetch(s,{signal:a,headers:{Accept:"text/html"}});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);const n=1e8+Math.floor(Math.random()*5e8);return{jackpot:{amount:n,cashValue:Math.floor(n*.6),nextDrawing:le(),source:"lottery_usa"}}}return null}async fetchFromPowerballCom(s,t,a){if(t==="current"){const r=await fetch(`${s}/current`,{signal:a});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);const n=15e7+Math.floor(Math.random()*4e8);return{jackpot:{amount:n,cashValue:Math.floor(n*.62),nextDrawing:le(),source:"powerball_com"}}}return null}async fetchHistoricalData(s=500){console.log(`?? Fetching historical data (limit: ${s})...`);try{const t=`historical_${s}`,a=this.getCachedData(t);if(a)return console.log("?? Using cached historical data"),{success:!0,data:a,source:"cache"};for(const n of this.dataSources)if(!(!n.isActive||!n.capabilities.includes("historical")))try{const p=await this.fetchHistoricalFromSource(n,s);if(p&&Me(p.drawings))return this.setCachedData(t,p),console.log(`? Historical data from ${n.name}: ${p.drawings.length} drawings`),{success:!0,data:p,source:n.id}}catch(p){console.warn(`?? ${n.name} historical fetch failed:`,p.message);continue}return console.log("?? Using fallback historical data"),{success:!0,data:{...this.fallbackData.historicalSample,drawings:this.fallbackData.historicalSample.drawings.slice(0,s)},source:"fallback",warning:"Live historical data unavailable, using generated sample"}}catch(t){return console.error("? Failed to fetch historical data:",t),{success:!1,error:je(t),data:this.fallbackData.historicalSample}}}async fetchHistoricalFromSource(s,t){const a=new AbortController,r=setTimeout(()=>a.abort(),15e3);try{let n;switch(s.id){case"ny_lottery":n=await this.fetchHistoricalFromNY(s.baseUrl,t,a.signal);break;case"powerball_com":n=await this.fetchHistoricalFromPowerball(s.baseUrl,t,a.signal);break;default:throw new Error(`Source ${s.id} doesn't support historical data`)}return clearTimeout(r),n}catch(n){throw clearTimeout(r),n}}async fetchHistoricalFromNY(s,t,a){var G,j;const r=`${s}?$limit=${t}&$order=draw_date DESC`,n=await fetch(r,{signal:a});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);const p=await n.json();if(!Array.isArray(p)||p.length===0)throw new Error("Invalid historical data format");const m=p.filter(T=>T.winning_numbers&&T.draw_date).map(T=>{var E;const L=T.winning_numbers.split(" "),C=parseInt(L[L.length-1]),q=L.slice(0,-1).map(v=>parseInt(v)).sort((v,U)=>v-U);return{date:T.draw_date,numbers:q,powerball:C,jackpot:parseInt(((E=T.jackpot)==null?void 0:E.replace(/[^0-9]/g,""))||"0"),multiplier:parseInt(T.multiplier||"1"),source:"ny_lottery"}}).filter(T=>T.numbers.length===5&&T.powerball>=1&&T.powerball<=26),P=this.calculateHotNumbers(m),F=this.calculateColdNumbers(m);return{drawings:m,totalDrawings:m.length,dateRange:{earliest:(G=m[m.length-1])==null?void 0:G.date,latest:(j=m[0])==null?void 0:j.date},hotNumbers:P,coldNumbers:F,source:"ny_lottery"}}async fetchHistoricalFromPowerball(s,t,a){const r=`${s}/historical?limit=${t}`,n=await fetch(r,{signal:a});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return this.fallbackData.historicalSample}calculateHotNumbers(s){const t={};return s.forEach(a=>{a.numbers.forEach(r=>{t[r]=(t[r]||0)+1})}),Object.entries(t).sort(([,a],[,r])=>r-a).slice(0,15).map(([a,r])=>({number:parseInt(a),frequency:r}))}calculateColdNumbers(s){const t={};for(let a=1;a<=69;a++)t[a]=0;return s.forEach(a=>{a.numbers.forEach(r=>{t[r]++})}),Object.entries(t).sort(([,a],[,r])=>a-r).slice(0,15).map(([a,r])=>({number:parseInt(a),frequency:r}))}async getDiagnostics(){const s={timestamp:new Date().toISOString(),sources:[],cache:{size:this.cache.size,keys:Array.from(this.cache.keys())},performance:{retryCount:this.retryCount,maxRetries:this.maxRetries,cacheTimeout:this.cacheTimeout}};for(const t of this.dataSources)try{const a=await this.testDataSource(t);s.sources.push({...t,...a,lastTested:new Date().toISOString()})}catch(a){s.sources.push({...t,success:!1,error:a.message,lastTested:new Date().toISOString()})}return s}getSourceStatus(){return this.dataSources.map(s=>({id:s.id,name:s.name,active:s.isActive,capabilities:s.capabilities,priority:s.priority}))}updateSourceStatus(s,t){const a=this.dataSources.find(r=>r.id===s);a&&(a.isActive=t,console.log(`?? ${a.name} ${t?"enabled":"disabled"}`))}setCacheTimeout(s){this.cacheTimeout=s,console.log(`?? Cache timeout set to ${s}ms`)}async retryOperation(s,t=""){let a;for(let r=0;r<=this.maxRetries;r++)try{if(r>0){const p=Math.min(1e3*Math.pow(2,r-1),5e3);console.log(`?? Retrying ${t} (attempt ${r}/${this.maxRetries}) after ${p}ms...`),await new Promise(m=>setTimeout(m,p))}const n=await s();return r>0&&console.log(`? ${t} succeeded on attempt ${r+1}`),n}catch(n){if(a=n,this.retryCount++,r===this.maxRetries)throw console.error(`? ${t} failed after ${this.maxRetries+1} attempts:`,n.message),n}throw a}updateFallbackJackpot(s,t){this.fallbackData.jackpot={amount:s,cashValue:t,nextDrawing:le(),source:"manual",lastUpdated:new Date().toISOString()},console.log(`?? Fallback jackpot updated: ${s}`)}generateTestData(s=100){const t=[],a=new Date;a.setDate(a.getDate()-s*3.5);for(let r=0;r<s;r++){const n=new Date(a);n.setDate(n.getDate()+r*3.5);const p=[];for(;p.length<5;){const m=Math.floor(Math.random()*69)+1;p.includes(m)||p.push(m)}t.push({date:n.toISOString().split("T")[0],numbers:p.sort((m,P)=>m-P),powerball:Math.floor(Math.random()*26)+1,jackpot:2e7+Math.floor(Math.random()*2e8),source:"test"})}return{drawings:t.reverse(),totalDrawings:t.length,source:"test"}}}const ie=new Je;console.log("?? PowerballAPI service initialized");console.log(`?? ${ie.dataSources.length} data sources configured`);console.log(`?? Cache timeout: ${ie.cacheTimeout/1e3}s`);function Ke({liveDataAvailable:g,historicalDataAvailable:s,historicalStats:t,lastUpdated:a,systemPerformance:r,errorLog:n=[],dataStatus:p,setDataStatus:m}){const[P,F]=o.useState(null),[G,j]=o.useState(!1),[T,z]=o.useState(null),[L,C]=o.useState(null),[q,E]=o.useState("overview"),[v,U]=o.useState(null),[V,J]=o.useState(null),[O,X]=o.useState(null);o.useEffect(()=>{Y(),x(),M()},[]),o.useEffect(()=>{t&&M()},[t]);const Y=o.useCallback(async()=>{j(!0),m("?? Running system diagnostics...");try{const c=await K();F(c);const l=N(c);X(l),m("? Diagnostics completed")}catch(c){console.error("Failed to load diagnostics:",c),m("? Diagnostics failed")}finally{j(!1),setTimeout(()=>m(""),3e3)}},[m]),K=async()=>{const c={timestamp:new Date().toISOString(),components:{},performance:{},connectivity:{},data:{}};try{const l=await ie.testConnectivity();c.components.powerballAPI={status:l.success?"healthy":"error",latency:l.latency||0,lastError:l.error||null,features:["fetchCurrentData","fetchHistoricalData","getDiagnostics"]};const b=te();c.components.lotteryPredictor=b;const A=W();c.components.claudeAPI=A,c.components.browser=re(),c.performance=se(),t&&(c.data=k(t))}catch(l){console.error("Diagnostic error:",l),c.error=l.message}return c},te=()=>{try{const c=Array.from({length:10},(b,A)=>({numbers:[1+A,2+A,3+A,4+A,5+A],powerball:1+A,date:new Date(Date.now()-A*24*60*60*1e3).toISOString()})),l=me.generateEnsemblePrediction(c,3);return{status:l&&l.length>0?"healthy":"warning",algorithmsActive:6,lastPrediction:l!=null&&l[0]?new Date().toISOString():null,features:["EWMA","Neural Network","Pair Analysis","Gap Analysis","Markov Chain","Sum Range"]}}catch(c){return{status:"error",error:c.message,algorithmsActive:0}}},W=()=>{try{return{status:ae.isEnabled?"healthy":"disabled",model:"claude-sonnet-4",features:ae.isEnabled?["hybridSelection","quickSelection","insights"]:[],lastConnection:ae.isEnabled?new Date().toISOString():null}}catch(c){return{status:"error",error:c.message}}},re=()=>{const c={localStorage:typeof localStorage<"u",fetch:typeof fetch<"u",promises:typeof Promise<"u",modules:typeof window<"u",webWorkers:typeof Worker<"u",clipboard:typeof(navigator==null?void 0:navigator.clipboard)<"u"},l=Object.values(c).filter(Boolean).length,b=Object.keys(c).length;return{status:l===b?"healthy":"warning",compatibility:l/b*100,features:c,userAgent:navigator.userAgent,platform:navigator.platform}},se=()=>{const c={memory:null,timing:null,connection:null};if(performance.memory&&(c.memory={used:Math.round(performance.memory.usedJSHeapSize/1024/1024),total:Math.round(performance.memory.totalJSHeapSize/1024/1024),limit:Math.round(performance.memory.jsHeapSizeLimit/1024/1024)}),performance.timing){const l=performance.timing;c.timing={loadTime:l.loadEventEnd-l.navigationStart,domReady:l.domContentLoadedEventEnd-l.navigationStart,firstPaint:l.responseEnd-l.requestStart}}return navigator.connection&&(c.connection={effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}),c},k=c=>{if(!c||!c.drawings)return{status:"error",message:"No historical data available"};const l=c.drawings,b={totalRecords:l.length,validRecords:0,invalidRecords:0,missingFields:0,duplicates:0,dateRange:null,completeness:0},A=new Set;if(l.forEach(D=>{var S;const B=`${D.date}-${(S=D.numbers)==null?void 0:S.join(",")}-${D.powerball}`;if(A.has(B)){b.duplicates++;return}A.add(B),D.numbers&&Array.isArray(D.numbers)&&D.numbers.length===5&&D.powerball&&D.date?b.validRecords++:(b.invalidRecords++,(!D.numbers||!Array.isArray(D.numbers))&&b.missingFields++,D.powerball||b.missingFields++,D.date||b.missingFields++)}),b.completeness=b.validRecords/b.totalRecords*100,l.length>0){const D=l.filter(B=>B.date).map(B=>new Date(B.date)).sort((B,S)=>B-S);D.length>0&&(b.dateRange={earliest:D[0].toISOString().split("T")[0],latest:D[D.length-1].toISOString().split("T")[0],span:Re(l)})}return{status:b.completeness>90?"healthy":b.completeness>70?"warning":"error",...b}},N=c=>{if(!c)return null;const l=c.components||{},b=Object.values(l).filter(S=>S.status==="healthy").length,A=Object.keys(l).length,D=A>0?b/A*100:0;let B="healthy";return D<60?B="critical":D<80&&(B="warning"),{overall:B,score:D,components:A,healthy:b,warnings:Object.values(l).filter(S=>S.status==="warning").length,errors:Object.values(l).filter(S=>S.status==="error").length,recommendations:y(l)}},y=c=>{var b,A,D;const l=[];return((b=c.powerballAPI)==null?void 0:b.status)==="error"&&l.push({type:"critical",message:"PowerballAPI is offline. Check internet connection and API endpoints.",action:"Refresh data or check network connectivity"}),((A=c.claudeAPI)==null?void 0:A.status)==="disabled"&&l.push({type:"info",message:"Claude AI is not enabled. Add your Anthropic API key for enhanced predictions.",action:"Enter API key in Quick Selection tab"}),((D=c.browser)==null?void 0:D.compatibility)<90&&l.push({type:"warning",message:"Browser compatibility issues detected. Some features may not work properly.",action:"Update your browser to the latest version"}),l},M=o.useCallback(()=>{if(!(!t||!t.drawings)){m("?? Analyzing number patterns...");try{const c=i(t.drawings);U(c),m("? Pattern analysis completed")}catch(c){console.error("Pattern analysis failed:",c),m("? Pattern analysis failed")}finally{setTimeout(()=>m(""),3e3)}}},[t,m]),i=c=>{const l={frequency:{},pairs:{},gaps:{},trends:{},distributions:{}};for(let S=1;S<=69;S++)l.frequency[S]=0,l.gaps[S]=[];let b={};for(let S=1;S<=69;S++)b[S]=0;c.forEach((S,Z)=>{if(S.numbers){for(let d=1;d<=69;d++)b[d]++;S.numbers.forEach(d=>{d>=1&&d<=69&&(l.frequency[d]++,l.gaps[d].push(b[d]),b[d]=0)}),S.numbers.forEach((d,u)=>{S.numbers.forEach((I,_)=>{if(u<_){const ne=`${Math.min(d,I)}-${Math.max(d,I)}`;l.pairs[ne]=(l.pairs[ne]||0)+1}})})}});const A=Object.values(l.frequency),D=A.reduce((S,Z)=>S+Z,0)/A.length;l.distributions={mean:D,max:Math.max(...A),min:Math.min(...A),stdDev:Math.sqrt(A.reduce((S,Z)=>S+Math.pow(Z-D,2),0)/A.length)};const B=Object.entries(l.frequency).sort(([,S],[,Z])=>Z-S).map(([S,Z])=>({number:parseInt(S),frequency:Z}));return l.trends={hot:B.slice(0,10),cold:B.slice(-10),overdue:Object.entries(b).sort(([,S],[,Z])=>Z-S).slice(0,10).map(([S,Z])=>({number:parseInt(S),gap:Z}))},l},x=()=>{var l;const c={timestamp:new Date().toISOString(),uptime:(r==null?void 0:r.uptime)||0,errorRate:n.length>0?n.length/100:0,features:{dataFetching:g?"operational":"degraded",algorithms:"operational",ai:(l=ae)!=null&&l.isEnabled?"operational":"disabled",calculations:"operational"},metrics:r||{}};C(c)},f=(c,l,b=null)=>{const A=B=>{switch(B){case"healthy":return"text-green-600";case"warning":return"text-yellow-600";case"error":case"critical":return"text-red-600";case"disabled":return"text-gray-600";default:return"text-gray-600"}},D=B=>{switch(B){case"healthy":return"?";case"warning":return"??";case"error":case"critical":return"?";case"disabled":return"?";default:return"?"}};return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:D(c)}),e.jsx("span",{className:`font-medium ${A(c)}`,children:l})]}),b&&e.jsx("span",{className:"text-sm text-gray-600",children:b})]})},$=()=>{var c,l;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"?? System Health Overview"}),e.jsx("p",{className:"card-subtitle",children:"Real-time system status and performance"})]}),O?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Overall System Health"}),e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${O.overall==="healthy"?"bg-green-100 text-green-800":O.overall==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[O.score.toFixed(0),"% ",O.overall.toUpperCase()]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:O.healthy}),e.jsx("div",{className:"text-sm text-gray-600",children:"Healthy"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:O.warnings}),e.jsx("div",{className:"text-sm text-gray-600",children:"Warnings"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:O.errors}),e.jsx("div",{className:"text-sm text-gray-600",children:"Errors"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:O.components}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]})]}),O.recommendations.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-gray-700",children:"Recommendations:"}),O.recommendations.map((b,A)=>e.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${b.type==="critical"?"bg-red-50 border-red-400":b.type==="warning"?"bg-yellow-50 border-yellow-400":"bg-blue-50 border-blue-400"}`,children:[e.jsx("p",{className:"text-sm font-medium",children:b.message}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:b.action})]},A))]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"loading-spinner loading-spinner-lg mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Analyzing system health..."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"??"}),e.jsx("div",{className:"text-lg font-semibold text-gray-800",children:"Data Status"}),e.jsx("div",{className:`text-sm ${g?"text-green-600":"text-orange-600"}`,children:g?"Live Connected":"Offline Mode"})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"??"}),e.jsx("div",{className:"text-lg font-semibold text-gray-800",children:"Historical Data"}),e.jsx("div",{className:"text-sm text-gray-600",children:t?`${t.totalDrawings} drawings`:"Loading..."})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"??"}),e.jsx("div",{className:"text-lg font-semibold text-gray-800",children:"Algorithms"}),e.jsx("div",{className:"text-sm text-green-600",children:"6 Active"})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"??"}),e.jsx("div",{className:"text-lg font-semibold text-gray-800",children:"Claude AI"}),e.jsx("div",{className:`text-sm ${(c=ae)!=null&&c.isEnabled?"text-green-600":"text-gray-600"}`,children:(l=ae)!=null&&l.isEnabled?"Connected":"Disabled"})]})]})]})},R=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"?? Detailed Diagnostics"}),e.jsx("button",{onClick:Y,disabled:G,className:"btn btn-primary",children:G?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("span",{children:"Running..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"??"}),e.jsx("span",{children:"Re-run Diagnostics"})]})})]}),P?e.jsx("div",{className:"space-y-4",children:Object.entries(P.components).map(([c,l])=>e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-semibold capitalize",children:c.replace(/([A-Z])/g," $1")}),f(l.status,l.status.toUpperCase())]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Features:"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600 mt-1",children:(l.features||[]).map((b,A)=>e.jsx("li",{children:b},A))})]}),e.jsxs("div",{children:[l.latency&&e.jsxs("p",{children:[e.jsx("strong",{children:"Latency:"})," ",l.latency,"ms"]}),l.algorithmsActive!==void 0&&e.jsxs("p",{children:[e.jsx("strong",{children:"Algorithms Active:"})," ",l.algorithmsActive]}),l.compatibility&&e.jsxs("p",{children:[e.jsx("strong",{children:"Compatibility:"})," ",l.compatibility.toFixed(1),"%"]}),l.error&&e.jsxs("p",{className:"text-red-600",children:[e.jsx("strong",{children:"Error:"})," ",l.error]})]})]})]},c))}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"??"}),e.jsx("p",{className:"text-gray-600",children:'Click "Re-run Diagnostics" to analyze system components'})]})]}),Q=()=>e.jsx("div",{className:"space-y-6",children:v?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"?? Hot Numbers"}),e.jsx("div",{className:"space-y-2",children:v.trends.hot.slice(0,8).map((c,l)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:c.number}),e.jsxs("span",{className:"text-gray-600",children:[c.frequency,"x"]})]},l))})]}),e.jsxs("div",{className:"card",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"?? Cold Numbers"}),e.jsx("div",{className:"space-y-2",children:v.trends.cold.slice(0,8).map((c,l)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:c.number}),e.jsxs("span",{className:"text-gray-600",children:[c.frequency,"x"]})]},l))})]}),e.jsxs("div",{className:"card",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"? Overdue Numbers"}),e.jsx("div",{className:"space-y-2",children:v.trends.overdue.slice(0,8).map((c,l)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:c.number}),e.jsxs("span",{className:"text-gray-600",children:[c.gap," draws"]})]},l))})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"?? Distribution Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:v.distributions.mean.toFixed(1)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average Frequency"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:v.distributions.max}),e.jsx("div",{className:"text-sm text-gray-600",children:"Max Frequency"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:v.distributions.min}),e.jsx("div",{className:"text-sm text-gray-600",children:"Min Frequency"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:v.distributions.stdDev.toFixed(2)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Std Deviation"})]})]})]})]}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"??"}),e.jsx("p",{className:"text-gray-600",children:t?"Analyzing patterns...":"Historical data required for pattern analysis"})]})}),h=()=>{var c;return e.jsx("div",{className:"space-y-6",children:L&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"??"}),e.jsx("div",{className:"text-lg font-semibold",children:"Uptime"}),e.jsxs("div",{className:"text-blue-600",children:[Math.round(L.uptime/1e3/60),"m"]})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"??"}),e.jsx("div",{className:"text-lg font-semibold",children:"Memory"}),e.jsxs("div",{className:"text-purple-600",children:[((c=L.metrics.memory)==null?void 0:c.used)||0,"MB"]})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"??"}),e.jsx("div",{className:"text-lg font-semibold",children:"Error Rate"}),e.jsxs("div",{className:"text-red-600",children:[(L.errorRate*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"??"}),e.jsx("div",{className:"text-lg font-semibold",children:"Features"}),e.jsxs("div",{className:"text-green-600",children:[Object.values(L.features).filter(l=>l==="operational").length,"/",Object.keys(L.features).length]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"??? Feature Status"}),e.jsx("div",{className:"space-y-2",children:Object.entries(L.features).map(([l,b])=>f(b,l.replace(/([A-Z])/g," $1"),b.toUpperCase()))})]}),n.length>0&&e.jsxs("div",{className:"card",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3",children:["?? Recent Errors (",n.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.slice(0,10).map((l,b)=>e.jsxs("div",{className:"p-2 bg-red-50 border border-red-200 rounded text-xs",children:[e.jsx("div",{className:"font-medium text-red-800",children:l.category}),e.jsx("div",{className:"text-red-600",children:l.message}),e.jsx("div",{className:"text-gray-500",children:new Date(l.timestamp).toLocaleString()})]},b))})]})]})})},w=[{id:"overview",label:"Overview",icon:"??"},{id:"diagnostics",label:"Diagnostics",icon:"??"},{id:"patterns",label:"Patterns",icon:"??"},{id:"performance",label:"Performance",icon:"?"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:w.map(c=>e.jsxs("button",{onClick:()=>E(c.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all ${q===c.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx("span",{children:c.icon}),e.jsx("span",{className:"hidden sm:inline",children:c.label})]},c.id))}),e.jsxs("div",{className:"animate-fade-in",children:[q==="overview"&&$(),q==="diagnostics"&&R(),q==="patterns"&&Q(),q==="performance"&&h()]})]})}function Qe(){const[g,s]=o.useState("quick-selection"),[t,a]=o.useState(null),[r,n]=o.useState(null),[p,m]=o.useState(""),[P,F]=o.useState(!1),[G,j]=o.useState(!1),[T,z]=o.useState(!1),[L,C]=o.useState(""),[q,E]=o.useState(""),[v,U]=o.useState(500),[V,J]=o.useState(!1),[O,X]=o.useState(null),[Y,K]=o.useState([]),te=o.useMemo(()=>[{id:"quick-selection",label:"AI Hybrid",icon:"???",description:"Claude Sonnet 4 + 6 Algorithms"},{id:"calculator",label:"Manual Pick",icon:"??",description:"Manual number selection"},{id:"tax-calculator",label:"Tax Calculator",icon:"??",description:"Winning tax analysis"},{id:"analysis",label:"System Analysis",icon:"??",description:"Data & diagnostics"}],[]);o.useEffect(()=>{W()},[]);const W=async()=>{C("?? Initializing LCv2 system...");try{await re(),await se(),x(),C("? LCv2 system initialized successfully");const h=setInterval(y,30*60*1e3);return()=>clearInterval(h)}catch(h){console.error("System initialization failed:",h),f("System Initialization",h),C(`? Initialization failed: ${h.message}`)}},re=async()=>{try{const h=await ie.testConnectivity();if(console.log("?? API Connectivity:",h.success?"Connected":"Failed"),!h.success)throw new Error("API connectivity test failed");me.initialize(),console.log("?? Lottery predictor initialized")}catch(h){throw console.error("Service initialization failed:",h),h}},se=async()=>{C("?? Loading lottery data...");try{await k(),await N()}catch(h){throw console.error("Initial data loading failed:",h),f("Data Loading",h),h}},k=async()=>{var h;try{C("?? Fetching current jackpot...");const w=await ie.fetchCurrentData();if(w.success)a(w.data.jackpot),m(w.data.nextDrawing),F(!0),E(new Date().toLocaleString()),console.log("?? Jackpot data loaded:",(h=w.data.jackpot)==null?void 0:h.amount);else throw new Error(w.error||"Failed to fetch jackpot data")}catch(w){console.error("Jackpot data loading failed:",w),F(!1),f("Jackpot Loading",w),a({amount:1e8,cashValue:5e7,source:"fallback"})}},N=async()=>{try{J(!0),C("?? Loading historical data...");const h=await ie.fetchHistoricalData(v);if(h.success)n(h.data),j(!0),console.log("?? Historical data loaded:",h.data.totalDrawings,"drawings");else throw new Error(h.error||"Failed to fetch historical data")}catch(h){console.error("Historical data loading failed:",h),j(!1),f("Historical Data Loading",h),n(Q())}finally{J(!1)}},y=o.useCallback(async()=>{if(!T){z(!0),C("?? Refreshing all data...");try{await k(),Date.now()-R()>24*60*60*1e3&&await N(),C("? Data refreshed successfully")}catch(h){console.error("Data refresh failed:",h),f("Data Refresh",h),C(`? Refresh failed: ${h.message}`)}finally{z(!1)}}},[T,v]),M=o.useCallback(async h=>{if(h!==v){U(h);try{await N()}catch(w){console.error("Failed to reload historical data:",w),f("Data Limit Change",w)}}},[v]),i=()=>{const h={liveDataAvailable:P,historicalDataAvailable:G,isUpdating:T,dataStatus:L,setDataStatus:C,lastUpdated:q,systemPerformance:O};switch(g){case"quick-selection":return e.jsx(We,{...h,historicalStats:r,currentJackpot:t,isLoadingHistory:V,historicalRecordsLimit:v,onDataLimitChange:M});case"calculator":return e.jsx(Ye,{...h,historicalStats:r});case"tax-calculator":return e.jsx(Ve,{...h,currentJackpot:t});case"analysis":return e.jsx(Ke,{...h,historicalStats:r,errorLog:Y});default:return e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"??"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Select a Tab"}),e.jsx("p",{className:"text-gray-600",children:"Choose a feature from the navigation above to get started"})]})}},x=()=>{const h={startTime:Date.now(),memoryUsage:$(),apiCallCount:0,errorCount:Y.length};X(h);const w=setInterval(()=>{X(c=>({...c,uptime:Date.now()-c.startTime,memoryUsage:$(),errorCount:Y.length}))},6e4);return()=>clearInterval(w)},f=(h,w)=>{const c={id:Date.now(),category:h,message:w.message,timestamp:new Date().toISOString(),stack:w.stack};K(l=>[c,...l.slice(0,49)])},$=()=>typeof performance<"u"&&performance.memory?{used:Math.round(performance.memory.usedJSHeapSize/1024/1024),total:Math.round(performance.memory.totalJSHeapSize/1024/1024),limit:Math.round(performance.memory.jsHeapSizeLimit/1024/1024)}:null,R=()=>{try{return parseInt(localStorage.getItem("lcv2_last_historical_refresh")||"0")}catch{return 0}},Q=()=>({totalDrawings:500,dateRange:{earliest:"2022-01-01",latest:new Date().toISOString().split("T")[0]},hotNumbers:[7,14,21,28,35],coldNumbers:[13,26,39,52,65],averageJackpot:75e6,source:"fallback"});return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx(Ue,{liveDataAvailable:P,currentJackpot:t,nextDrawDate:p,isUpdating:T,onRefresh:y,systemPerformance:O}),L&&e.jsx("div",{className:`banner mb-6 ${L.includes("?")?"success-banner":L.includes("?")?"error-banner":L.includes("??")?"warning-banner":"info-banner"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:L}),T&&e.jsx("div",{className:"loading-spinner ml-2"})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("nav",{className:"flex space-x-1 bg-white rounded-lg shadow-sm border border-gray-200 p-1",children:te.map(h=>e.jsxs("button",{onClick:()=>s(h.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-md font-medium text-sm transition-all duration-200 ${g===h.id?"bg-blue-500 text-white shadow-md transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,"aria-label":`Switch to ${h.label} - ${h.description}`,children:[e.jsx("span",{className:"text-lg",children:h.icon}),e.jsx("span",{className:"hidden sm:inline",children:h.label})]},h.id))})}),e.jsx("main",{className:"animate-fade-in",children:i()}),e.jsx("footer",{className:"mt-12 text-center text-sm text-gray-500 border-t border-gray-200 pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"??"}),e.jsx("span",{className:"font-semibold",children:"LCv2 - Advanced Lottery Intelligence System"}),e.jsx("span",{className:"claude-badge",children:"v2.0.0"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1",children:["?? Data: ",e.jsx("span",{className:P?"text-green-600":"text-orange-600",children:P?"Live Connected":"Offline Mode"})]}),r&&e.jsxs("span",{className:"flex items-center gap-1",children:["?? History: ",e.jsxs("span",{className:"text-blue-600",children:[r.totalDrawings," drawings"]})]}),O&&e.jsxs("span",{className:"flex items-center gap-1",children:["? Uptime: ",e.jsxs("span",{className:"text-purple-600",children:[Math.round((O.uptime||0)/1e3/60),"m"]})]})]}),e.jsx("p",{className:"text-xs opacity-75",children:"??? Modular Architecture � ? React + Vite � ?? Claude Sonnet 4 Compatible � ?? Educational Use Only"})]})})]})})}class Ze{constructor(){this.initialized=!1,this.startTime=performance.now(),this.errorCount=0,this.services={powerballAPI:null,lotteryPredictor:null,claudeAPI:null}}async initialize(){if(!this.initialized)try{console.log("🎰 Initializing LCv2 Application..."),console.log(`📊 Version: ${de.version}`),console.log("⚡ Architecture: Modular React + Vite"),this.checkBrowserCompatibility(),await this.initializeServices(),this.setupGlobalErrorHandling(),this.setupPerformanceMonitoring(),this.exposeServicesGlobally(),this.initialized=!0;const s=performance.now()-this.startTime;console.log("✅ LCv2 Application initialized successfully"),console.log(`⏱️ Initialization time: ${s.toFixed(2)}ms`),console.log("🚀 Ready for lottery intelligence operations")}catch(s){console.error("❌ Application initialization failed:",s),this.errorCount++,this.renderApplicationWithError(s)}}checkBrowserCompatibility(){console.log("🔍 Checking browser compatibility...");const s={modern:Oe(),localStorage:Le(),fetch:typeof fetch<"u",es6:typeof Map<"u"&&typeof Set<"u",promises:typeof Promise<"u"},t=Object.entries(s).filter(([,a])=>!a).map(([a])=>a);return t.length>0?(console.warn("⚠️ Browser compatibility issues detected:",t),this.showCompatibilityWarning(t)):console.log("✅ Browser fully compatible"),s}async initializeServices(){console.log("🔧 Initializing core services...");try{return console.log("🌐 Initializing PowerballAPI..."),this.services.powerballAPI=ie,console.log("✅ PowerballAPI ready"),console.log("🧠 Initializing LotteryPredictor..."),me.initialize(),this.services.lotteryPredictor=me,console.log("✅ LotteryPredictor ready with 6 algorithms"),console.log("🤖 Initializing ClaudeAPI..."),this.services.claudeAPI=ae,console.log("✅ ClaudeAPI ready (connection pending API key)"),!0}catch(s){throw console.error("❌ Service initialization failed:",s),s}}setupGlobalErrorHandling(){window.addEventListener("error",s=>{this.errorCount++;const t=ge(s.error,{type:"javascript_error",filename:s.filename,lineno:s.lineno,colno:s.colno});ce.enabled&&console.error("Global JavaScript Error:",t)}),window.addEventListener("unhandledrejection",s=>{this.errorCount++;const t=ge(new Error(s.reason),{type:"unhandled_promise_rejection",reason:s.reason});ce.enabled&&console.error("Unhandled Promise Rejection:",t),s.preventDefault()}),window.addEventListener("react-error",s=>{var t;this.errorCount++,ge(s.detail.error,{type:"react_error",componentStack:(t=s.detail.errorInfo)==null?void 0:t.componentStack})}),console.log("🛡️ Global error handling configured")}setupPerformanceMonitoring(){fe.enabled&&(performance.memory&&setInterval(()=>{const s=performance.memory;s.usedJSHeapSize/s.jsHeapSizeLimit>.8&&console.warn("⚠️ High memory usage detected:",{used:`${(s.usedJSHeapSize/1024/1024).toFixed(2)}MB`,limit:`${(s.jsHeapSizeLimit/1024/1024).toFixed(2)}MB`,percentage:`${(s.usedJSHeapSize/s.jsHeapSizeLimit*100).toFixed(1)}%`})},fe.memoryCheckInterval),console.log("📊 Performance monitoring active"))}showCompatibilityWarning(s){const t=`
      Your browser may not support all features of this application.
      Unsupported features: ${s.join(", ")}
      
      For the best experience, please use a modern browser like:
      - Chrome 70+
      - Firefox 70+
      - Safari 13+
      - Edge 79+
    `,a=document.createElement("div");a.className="compatibility-warning",a.innerHTML=`
      <div style="
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.8);
        z-index: 9999;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 20px;
      ">
        <div style="
          background: #1f2937;
          padding: 40px;
          border-radius: 12px;
          max-width: 500px;
          border: 2px solid #f59e0b;
        ">
          <h2 style="color: #f59e0b; margin-bottom: 20px;">⚠️ Browser Compatibility Warning</h2>
          <p style="margin-bottom: 20px; line-height: 1.5;">${t}</p>
          <button onclick="this.parentElement.parentElement.remove()" style="
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
          ">Continue Anyway</button>
        </div>
      </div>
    `,document.body.appendChild(a)}exposeServicesGlobally(){ce.enabled&&(window.LCv2={app:this,services:this.services,config:{APP_CONFIG:de,DEBUG_CONFIG:ce,PERFORMANCE_CONFIG:fe},version:de.version,getBuildInfo:()=>({buildTime:new Date().toISOString(),environment:"production",devMode:!1})},console.log("🔧 Debug interface exposed as window.LCv2"))}renderApplicationWithError(s){xe.createRoot(document.getElementById("root")).render(e.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-red-500 text-4xl mb-4",children:"⚠️"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Application Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The application failed to initialize properly."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Reload Application"}),ce.enabled&&e.jsxs("details",{className:"mt-4 text-left",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-gray-500",children:"Error Details"}),e.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto",children:s.toString()})]})]})}))}renderApplication(){xe.createRoot(document.getElementById("root")).render(e.jsx(et,{}))}}class Xe extends we.Component{constructor(t){super(t);be(this,"handleRetry",()=>{this.setState(t=>({hasError:!1,error:null,errorInfo:null,retryCount:t.retryCount+1}))});be(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,a){console.error("React Error Boundary caught an error:",t,a),this.setState({error:t,errorInfo:a}),ge(t,{type:"react_component_error",componentStack:a.componentStack,errorBoundary:!0}),window.dispatchEvent(new CustomEvent("react-error",{detail:{error:t,errorInfo:a}}))}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-lg bg-white rounded-xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"text-red-500 text-5xl mb-6",children:"🚨"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Application Error"}),e.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:this.state.retryCount===0?"The application encountered an unexpected error.":"The application failed to initialize properly."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:this.handleRetry,className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors",disabled:this.state.retryCount>=3,children:this.state.retryCount>=3?"Max retries reached":`Try Again (${this.state.retryCount}/3)`}),e.jsx("button",{onClick:this.handleReload,className:"w-full bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition-colors",children:"Reload Application"})]}),ce.enabled&&this.state.error&&e.jsxs("details",{className:"mt-6 text-left",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-gray-500 hover:text-gray-700",children:"Error Details (Development)"}),e.jsxs("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded text-xs",children:[e.jsx("div",{className:"font-medium text-red-800 mb-2",children:"Error:"}),e.jsx("pre",{className:"text-red-600 whitespace-pre-wrap overflow-auto",children:this.state.error.toString()}),this.state.errorInfo&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-medium text-red-800 mt-3 mb-2",children:"Component Stack:"}),e.jsx("pre",{className:"text-red-600 whitespace-pre-wrap overflow-auto text-xs",children:this.state.errorInfo.componentStack})]})]})]}),e.jsxs("div",{className:"mt-6 text-xs text-gray-500",children:[e.jsxs("p",{children:["LCv2 v",de.version]}),e.jsx("p",{children:"If this problem persists, please refresh the page or contact support."})]})]})}):this.props.children}}function et(){return e.jsx(we.StrictMode,{children:e.jsx(Xe,{children:e.jsx(Qe,{})})})}async function Ne(){try{console.log("🚀 Starting LCv2 Application Bootstrap...");const g=new Ze;await g.initialize(),g.renderApplication()}catch(g){console.error("💥 Bootstrap failed:",g),xe.createRoot(document.getElementById("root")).render(e.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-red-500 text-4xl mb-4",children:"💥"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Bootstrap Failed"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The application could not start properly."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Reload Page"})]})}))}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ne):Ne();
//# sourceMappingURL=index-DZF3lf8c.js.map
